<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stingray Supplier Portal</title>

<style>
:root{
  --stingray-blue:#002C73;
  --burst-blue:#2F6DFF;
  --white:#ffffff;

  --text-dark:#0b1220;
  --text-grey-dark: rgba(11,18,32,0.72);

  --text-white:#ffffff;
  --text-grey-light: rgba(255,255,255,0.78);
}

*{ box-sizing:border-box; }

html, body{
  margin:0;
  height:100%;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  scroll-behavior: smooth;
}

/* ================= SECTION 1 (HERO) ================= */

.hero{
  min-height:100vh;
  width:100vw;
  background: var(--stingray-blue);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:clamp(24px,4vw,64px);
  position:relative;
  overflow:hidden;
}

/* Background carousel */
.bg-carousel{
  position:absolute;
  inset:0;
  z-index:0;
  overflow:hidden;
}

.bg-slide{
  position:absolute;
  inset:0;
  background-size: cover;
  background-position: center;
  background-repeat:no-repeat;
  opacity:0;
  transform: scale(1.01);
  will-change: opacity, transform;
  animation: slideShow 30s infinite; /* 5 images x 6s */
}

.bg-slide:nth-child(1){
  background-image:url("https://stingraymanufacturers.github.io/Supplierportal/1.png");
  animation-delay: 0s;
}
.bg-slide:nth-child(2){
  background-image:url("https://stingraymanufacturers.github.io/Supplierportal/2.jpg");
  animation-delay: 6s;
}
.bg-slide:nth-child(3){
  background-image:url("https://stingraymanufacturers.github.io/Supplierportal/3.jpg");
  animation-delay: 12s;
}
.bg-slide:nth-child(4){
  background-image:url("https://stingraymanufacturers.github.io/Supplierportal/4.jpg");
  animation-delay: 18s;
}
.bg-slide:nth-child(5){
  background-image:url("https://stingraymanufacturers.github.io/Supplierportal/5.jpg");
  animation-delay: 24s;
}

@keyframes slideShow{
  0%   { opacity:0; transform: scale(1.01); }
  3%   { opacity:1; }
  18%  { opacity:1; transform: scale(1.06); }
  22%  { opacity:0; transform: scale(1.065); }
  100% { opacity:0; transform: scale(1.01); }
}

/* Softer overlay so images show through */
.hero::before{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(
    135deg,
    rgba(0,44,115,0.65),
    rgba(0,44,115,0.45)
  );
  z-index:1;
}

.content{
  width:min(1200px,100%);
  text-align:center;
  color:var(--white);
  display:flex;
  flex-direction:column;
  gap:clamp(16px,2vw,22px);
  position:relative;
  z-index:2;
}

/* Title */
.welcome-title{
  font-size:clamp(40px,4.8vw,80px);
  font-weight:800;
  letter-spacing:-0.03em;
  margin:0;
  opacity:0;
  transform:translateY(18px);
  transition:opacity .9s ease, transform .9s cubic-bezier(.2,.9,.2,1);
  user-select:none;
  position:relative;
}
.hero.is-ready .welcome-title{ opacity:1; transform:none; }

.welcome-title::after{
  content:"";
  position:absolute;
  inset:50%;
  width:18px; height:18px;
  border-radius:50%;
  background:radial-gradient(circle,
    rgba(47,109,255,.55),
    rgba(47,109,255,.2),
    transparent 70%);
  transform:translate(-50%,-50%) scale(0);
  opacity:0;
}
@keyframes burst{
  0%{transform:translate(-50%,-50%) scale(.2);opacity:0;}
  50%{opacity:.7;}
  100%{transform:translate(-50%,-50%) scale(14);opacity:0;}
}
.welcome-title:hover::after{ animation:burst .7s ease-out forwards; }

.word{ display:inline-block; }
@keyframes pop{
  0%{transform:scale(1);}
  40%{transform:scale(1.15);}
  70%{transform:scale(.98);}
  100%{transform:scale(1);}
}
.welcome-title.is-hovering .word{
  animation:pop .55s ease both;
  animation-delay:var(--d);
}

/* Description */
.desc{
  max-width:900px;
  margin:0 auto;
  font-size:clamp(15px,1.4vw,18px);
  line-height:1.7;
  opacity:0;
  transform:translateY(10px);
  transition:.9s ease .15s;
}
.hero.is-ready .desc{ opacity:1; transform:none; }

/* Circle tiles */
.tiles{
  margin-top:clamp(14px,2vw,18px);
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:clamp(16px,2vw,24px);
}
@media(max-width:820px){ .tiles{ grid-template-columns:1fr; } }

.tile{
  aspect-ratio:1/1;
  border-radius:50%;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,.14);
  backdrop-filter:blur(6px);
  box-shadow:0 16px 40px rgba(0,0,0,.25);
  transition:.28s cubic-bezier(.2,.9,.2,1);
  cursor:pointer;
  text-decoration:none;
  color:inherit;
  -webkit-tap-highlight-color: transparent;
}
.tile:hover{
  transform:translateY(-10px) scale(1.06);
  box-shadow:0 30px 70px rgba(0,0,0,.35);
}
.tile::before{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:50%;
  background:conic-gradient(transparent, var(--stingray-blue), transparent 60%);
  animation:spin 2.8s linear infinite;
  z-index:-1;
}
.tile::after{
  content:"";
  position:absolute;
  inset:3px;
  background:var(--stingray-blue);
  border-radius:50%;
  z-index:-1;
}
@keyframes spin{ to{transform:rotate(360deg);} }

.tile-label{
  font-weight:750;
  font-size:clamp(16px,1.8vw,20px);
  padding: 0 18px;
  line-height:1.15;
}
.tile:focus-visible{
  outline: 3px solid rgba(255,255,255,0.55);
  outline-offset: 6px;
}

/* ================= SCROLL STORY SECTIONS (2–4) =================
   Each section:
   - Tall container (scroll distance)
   - Sticky inner (pinned feeling)
   - Steps fade in/out
   - Theme changes after step 1 (step index >= 1)
*/

.story-section{
  height: 320vh;
  position: relative;

  /* default (Step 0 theme) */
  background: #ffffff;
  transition: background 420ms ease;
}

.story-section.is-dark{
  background: var(--stingray-blue);
}

.story-sticky{
  position: sticky;
  top: 0;
  height: 100vh;
  display:flex;
  align-items:center;
  padding: clamp(38px, 5vw, 72px) clamp(18px, 6vw, 90px);
}

.story-inner{
  width:min(1200px, 100%);
  margin:0 auto;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(18px, 4vw, 60px);
}

@media(max-width: 900px){
  .story-inner{ grid-template-columns: 1fr; }
}

.story-left{
  max-width: 560px;
}

.story-title{
  margin:0 0 18px 0;
  font-size: clamp(34px, 3.4vw, 54px);
  letter-spacing:-0.02em;
  transition: color 420ms ease;
  color: var(--stingray-blue);
}

.story-section.is-dark .story-title{
  color: var(--white);
}

.story-steps{
  position: relative;
  min-height: 160px;
}

.story-step{
  position:absolute;
  inset:0;
  opacity:0;
  transform: translateY(14px);
  transition: opacity 420ms ease, transform 420ms cubic-bezier(.2,.9,.2,1);
  will-change: opacity, transform;
}

.story-step.active{
  opacity:1;
  transform: translateY(0);
}

.story-step p{
  margin:0;
  font-size: clamp(18px, 1.5vw, 22px);
  line-height: 1.6;
  transition: color 420ms ease;
  color: var(--text-dark);
}

.story-section.is-dark .story-step p{
  color: var(--text-white);
}

.story-hint{
  margin-top: 22px;
  font-size: 14px;
  transition: color 420ms ease;
  color: var(--text-grey-dark);
}

.story-section.is-dark .story-hint{
  color: var(--text-grey-light);
}

.story-right{
  display:flex;
  align-items:center;
  justify-content:center;
  opacity: 0.0; /* reserved for visuals later */
}

/* Back to top button (per section) */
.back-top{
  margin-top: 26px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding: 12px 16px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,0.14);
  background: rgba(255,255,255,0.75);
  color: var(--stingray-blue);
  font-weight: 700;
  cursor:pointer;
  transition: transform 220ms cubic-bezier(.2,.9,.2,1), background 220ms ease, border-color 220ms ease;
  text-decoration:none;
  width: fit-content;
}

.back-top:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,0.92);
  border-color: rgba(0,0,0,0.18);
}

.story-section.is-dark .back-top{
  border-color: rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.10);
  color: var(--white);
}

.story-section.is-dark .back-top:hover{
  background: rgba(255,255,255,0.16);
}

.back-top:focus-visible{
  outline: 3px solid rgba(47,109,255,0.55);
  outline-offset: 4px;
}

/* Reduced motion */
@media(prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important; }
  .bg-slide{ opacity:0 !important; }
  .bg-slide:nth-child(1){ opacity:1 !important; }
  .story-step{ position: static; opacity:1; transform:none; }
}
</style>
</head>

<body>

<!-- ================= SECTION 1 ================= -->
<section class="hero" id="hero">
  <div class="bg-carousel" aria-hidden="true">
    <div class="bg-slide"></div>
    <div class="bg-slide"></div>
    <div class="bg-slide"></div>
    <div class="bg-slide"></div>
    <div class="bg-slide"></div>
  </div>

  <div class="content">
    <h1 class="welcome-title" id="welcomeTitle">
      <span id="words"></span>
    </h1>

    <p class="desc">
      This portal is your single place to work with us, without the back and forth.
      Use it to access documents, updates, and the info you need to supply confidently.
      Track what matters, respond faster, and keep everything in one clear thread.
    </p>

    <div class="tiles" aria-label="Landing tiles">
      <a class="tile" href="#how-it-works" data-scroll="how-it-works" aria-label="How it works">
        <div class="tile-label">How it works</div>
      </a>
      <a class="tile" href="#what-you-can-do" data-scroll="what-you-can-do" aria-label="What you can do">
        <div class="tile-label">What you can do</div>
      </a>
      <a class="tile" href="#how-we-support" data-scroll="how-we-support" aria-label="How we support you">
        <div class="tile-label">How we support you</div>
      </a>
    </div>
  </div>
</section>

<!-- ================= SECTION 2 (HOW IT WORKS) ================= -->
<section class="story-section" id="how-it-works" data-story>
  <div class="story-sticky">
    <div class="story-inner">
      <div class="story-left">
        <h2 class="story-title">How it works</h2>

        <div class="story-steps" aria-live="polite">
          <div class="story-step active" data-step="0">
            <p>Start here to see the latest updates and what is currently needed from you.</p>
          </div>
          <div class="story-step" data-step="1">
            <p>When something changes, it is reflected in one place so you are not chasing threads.</p>
          </div>
          <div class="story-step" data-step="2">
            <p>Follow the steps, confirm details, and keep the process moving with less back and forth.</p>
          </div>
        </div>

        <div class="story-hint">Keep scrolling to see each step.</div>

        <button class="back-top" type="button" data-backtop>Back to top ↑</button>
      </div>

      <div class="story-right"></div>
    </div>
  </div>
</section>

<!-- ================= SECTION 3 (WHAT YOU CAN DO) ================= -->
<section class="story-section" id="what-you-can-do" data-story>
  <div class="story-sticky">
    <div class="story-inner">
      <div class="story-left">
        <h2 class="story-title">What you can do</h2>

        <div class="story-steps" aria-live="polite">
          <div class="story-step active" data-step="0">
            <p>Get a clear view of what is required, without digging through emails.</p>
          </div>
          <div class="story-step" data-step="1">
            <p>Confirm details quickly, share what we need from you, and keep things moving.</p>
          </div>
          <div class="story-step" data-step="2">
            <p>Stay aligned with updates as they happen, so you can deliver with confidence.</p>
          </div>
        </div>

        <div class="story-hint">Keep scrolling to see each step.</div>

        <button class="back-top" type="button" data-backtop>Back to top ↑</button>
      </div>

      <div class="story-right"></div>
    </div>
  </div>
</section>

<!-- ================= SECTION 4 (HOW WE SUPPORT YOU) ================= -->
<section class="story-section" id="how-we-support" data-story>
  <div class="story-sticky">
    <div class="story-inner">
      <div class="story-left">
        <h2 class="story-title">How we support you</h2>

        <div class="story-steps" aria-live="polite">
          <div class="story-step active" data-step="0">
            <p>Use this space to ask questions early, so small issues do not become delays.</p>
          </div>
          <div class="story-step" data-step="1">
            <p>Get clarity fast with communication that stays in one place and is easy to follow.</p>
          </div>
          <div class="story-step" data-step="2">
            <p>We keep the process clear and responsive so you always know the next step.</p>
          </div>
        </div>

        <div class="story-hint">Keep scrolling to see each step.</div>

        <button class="back-top" type="button" data-backtop>Back to top ↑</button>
      </div>

      <div class="story-right"></div>
    </div>
  </div>
</section>

<script>
/* Title word animation */
const titleText="Welcome to the Stingray Supplier Portal";
const wordsEl=document.getElementById("words");
const titleEl=document.getElementById("welcomeTitle");
const hero=document.getElementById("hero");

titleText.split(" ").forEach((w,i)=>{
  const s=document.createElement("span");
  s.className="word";
  s.textContent=w;
  s.style.setProperty("--d",`${i*60}ms`);
  wordsEl.appendChild(s);
  wordsEl.append(" ");
});

window.addEventListener("load",()=>hero.classList.add("is-ready"));

titleEl.addEventListener("mouseenter",()=>{
  titleEl.classList.remove("is-hovering");
  void titleEl.offsetWidth;
  titleEl.classList.add("is-hovering");
});

/* Smooth scroll for circle clicks (prevents reload/hash jump) */
document.querySelectorAll("[data-scroll]").forEach(link=>{
  link.addEventListener("click",(e)=>{
    const id = link.getAttribute("data-scroll");
    const target = document.getElementById(id);
    if(!target) return;

    e.preventDefault();
    history.pushState(null,"",`#${id}`);
    target.scrollIntoView({behavior:"smooth", block:"start"});
  });
});

/* Back to top buttons */
document.querySelectorAll("[data-backtop]").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const top = document.getElementById("hero");
    if(top) top.scrollIntoView({behavior:"smooth", block:"start"});
    else window.scrollTo({top:0, behavior:"smooth"});
  });
});

/* Scrollytelling for each story section:
   - Swaps steps based on scroll progress
   - Changes theme after step 0 (step >= 1) => dark background + white/grey text
*/
(function(){
  const sections = Array.from(document.querySelectorAll("[data-story]"));
  if(sections.length === 0) return;

  function setActiveStep(section, idx){
    const steps = Array.from(section.querySelectorAll(".story-step"));
    steps.forEach((el, i) => el.classList.toggle("active", i === idx));

    // Theme rule:
    // Step 0 => white bg + blue/black text
    // Step 1+ => blue bg + white/grey text
    section.classList.toggle("is-dark", idx >= 1);
  }

  function computeIndex(progress){
    // 3 steps: 0,1,2
    return Math.min(2, Math.floor(progress * 3));
  }

  function onScroll(){
    const vh = window.innerHeight;

    sections.forEach(section=>{
      const rect = section.getBoundingClientRect();
      const total = rect.height - vh;
      if(total <= 0) return;

      const scrolled = Math.min(Math.max(-rect.top, 0), total);
      const p = scrolled / total;

      const idx = computeIndex(p);
      setActiveStep(section, idx);
    });
  }

  window.addEventListener("scroll", onScroll, { passive: true });
  window.addEventListener("resize", onScroll);
  onScroll();
})();
</script>

</body>
</html>
